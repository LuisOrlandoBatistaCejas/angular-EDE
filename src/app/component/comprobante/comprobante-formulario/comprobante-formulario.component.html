<mat-card>
  <form #comprobantesForm="ngForm" (submit)="onSubmit(comprobantesForm.value)">
    <mat-card-content>
      <div fxLayout="row wrap">
        <div fxFlex="100" style="margin: 3px" fxLayoutAlign="end end">
          <h4 class="text-warn">{{numeroComprobante}}</h4>
        </div>
      </div>

      <div fxLayout="row wrap" fxLayout.xs="column">

        <div fxFlex="10" fxFlex.xs="100"></div>

        <div fxFlex="32" fxFlex.xs="100" style="margin: 3px">
          <mat-form-field class="input-form">
            <mat-select placeholder="Concepto" required
                        name="tipodoc" [ngModel]="comprobante.tipodoc"
                        #tipodoc="ngModel">
              <mat-option *ngFor="let tipo of tipos" [value]="tipo.id" (click)="selectTipo(tipo.Documento)">
                {{tipo.Documento}}
              </mat-option>

            </mat-select>
            <div class="validation-text" *ngIf="tipodoc.invalid && (tipodoc.dirty || tipodoc.touched)">
              <div *ngIf="tipodoc.errors['required']">
                El tipo de documento es requerido.
              </div>
            </div>
          </mat-form-field>
        </div>
      </div>
      <div fxLayout="row wrap" fxLayout.xs="column">

        <div fxFlex="10" fxFlex.xs="100"></div>

        <div fxFlex="32" fxFlex.xs="100" style="margin: 3px">
          <div fxFlex="85">
            <mat-form-field class="input-form">
              <mat-select placeholder="Cliente" required
                          name="Identificacion" [ngModel]="comprobante.Identificacion"
                          #Identificacion="ngModel">
                <mat-option *ngFor="let cliente of personas" [value]="cliente.Identificacion"
                            (click)="selectCliente(cliente)">
                  {{cliente.NombreComercial}}
                </mat-option>

              </mat-select>
              <div class="validation-text"
                   *ngIf="Identificacion.invalid && (Identificacion.dirty || Identificacion.touched)">
                <div *ngIf="Identificacion.errors['required']">
                  La Identificaci√≥n es requerida.
                </div>
              </div>
            </mat-form-field>
          </div>
          <div fxFlex="15" fxLayoutAlign="center end">
              <mat-icon [class.text-accent]="Identificacion.valid" (click)="openClientDetailsDialog()"
                        style="cursor: pointer">details</mat-icon>
          </div>

        </div>

        <div fxFlex="10" fxFlex.xs="100"></div>

        <div fxFlex="32" fxFlex.xs="100" style="margin: 3px">
          <mat-form-field>
            <input matInput [matDatepicker]="picker" placeholder="Fecha"
                   name="Fecha" #Fecha="ngModel" [ngModel]="comprobante.Fecha" required>
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>

        </div>
      </div>

      <div fxLayout="row wrap" fxLayout.xs="column">

        <div fxFlex="10" fxFlex.xs="100"></div>

        <div fxFlex="32" fxFlex.xs="100" style="margin: 3px">
          <mat-form-field class="input-form">
            <mat-select placeholder="Forma de Pago" required
                        name="foma_pago" [ngModel]="comprobante.forma_pago"
                        #forma_pago="ngModel">
              <mat-option *ngFor="let formaPago of formasPago" [value]="formaPago.id">
                {{formaPago.Nombre}}
              </mat-option>

            </mat-select>
            <div class="validation-text"
                 *ngIf="forma_pago.invalid && (forma_pago.dirty || forma_pago.touched)">
              <div *ngIf="forma_pago.errors['required']">
                La forma pago es requerida.
              </div>
            </div>
          </mat-form-field>
        </div>

        <div fxFlex="10" fxFlex.xs="100"></div>

        <div fxFlex="32" fxFlex.xs="100" style="margin: 3px">
          <mat-form-field class="input-form">
            <mat-select placeholder="Vendedor" required
                        name="vendedor" [ngModel]="comprobante.vendedor"
                        #vendedor="ngModel">
              <mat-option *ngFor="let usuario of usuarios" [value]="usuario.id">
                {{usuario.first_name}} {{usuario.last_name}}
              </mat-option>

            </mat-select>
            <div class="validation-text"
                 *ngIf="vendedor.invalid && (vendedor.dirty || vendedor.touched)">
              <div *ngIf="vendedor.errors['required']">
               El Vendedor es requerido
              </div>
            </div>
          </mat-form-field>

        </div>
      </div>

    </mat-card-content>

    <mat-card-footer>

      <div fxLayout="row" fxLayout.xs="column" fxFlex class="form-buttons-container">

        <button class="form-button" [disabled]="comprobantesForm.invalid"
                type="submit" mat-button mat-raised-button color="primary">
          Aceptar
        </button>

        <button
          class="form-button"
          type="button" mat-button mat-raised-button
          color="warn" (click)="onCancel()">
          Cancelar
        </button>

      </div>

    </mat-card-footer>

  </form>

</mat-card>
